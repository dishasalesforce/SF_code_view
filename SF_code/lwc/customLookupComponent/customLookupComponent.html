<template>
        <div class="slds-form-element">
                <div class="slds-form-element__control">
                   <div class="slds-combobox_container">
                      <div class="slds-combobox" aria-expanded="false" aria-haspopup="listbox" role="combobox">
                         <div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none">
                            <template if:false={recordselected}>
                                <!-- <div class="slds-text-title slds-truncate slds-heading">Apheresis Inventory</div> -->
                                <lightning-input label = "Apheresis Inventory" placeholder="Search Apheresis Inventory..."  onkeyup={onKeyChange} value={selectedValue} required></lightning-input>
                            </template>
                            <template if:true={recordselected}>  
                               <!--edited by anitha-->                              
                                <div class="slds-text-title slds-truncate slds-heading" style="margin-top:8px;">Apheresis Inventory</div>
                                <span class="slds-pill slds-pill_link fullWidth slds-input slds-combobox__input" style="line-height:2;"> 
                              <!--edited by anitha-->  
                                    <a href="javascript:void(0);" 
                                     class="slds-pill__action slds-p-left_small" title={selectedValue}>
                                     <lightning-icon icon-name={iconname} size="x-small"></lightning-icon>
                                     <span class="slds-pill__label slds-p-left_x-small">{selectedValue}</span>
                                  </a>
                                  <button onclick={clearSelection}
                                  class="slds-button slds-button_icon slds-button_icon slds-pill__remove" 
                                  style="margin-right:40px" title="Remove"><!--edited by anitha-->
                                  <lightning-icon icon-name="utility:close" size="small" 
                                              alternative-text="Press delete or backspace to remove"></lightning-icon>
                                     <span class="slds-assistive-text">Remove</span>
                                  </button>
                               </span>                            
                            </template>
                         </div>
                         <template if:true={recordsList}>
                            <div class="slds-combobox_container">
                               <div id="listbox-id-1" class="slds-dropdown slds-dropdown_fluid" role="listbox">
                                  <ul class="slds-listbox slds-listbox_vertical" role="presentation">
                                     <template for:each={recordsList} for:item="item">
                                        <li key={item.Id} role="presentation" class="slds-listbox__item">
                                           <div class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small" role="option"
                                                data-itemid = {item.Id} data-itemname={item.Name} data-itemdesc={item.JN_Aph_Inv_Inventory_Description__c} 
                                                data-itemuom={item.JN_Aph_Inv_Unit_of_Measure__c}
                                                onclick={setSelectedValue}>
                                                <span role="menuitem" tabindex="-1" data-itemid = {item.Id} data-itemname={item.Name} data-itemdesc={item.JN_Aph_Inv_Inventory_Description__c} data-itemuom={item.JN_Aph_Inv_Unit_of_Measure__c}>
                                                    <lightning-icon icon-name={iconname} size="x-small" data-itemid = {item.Id} data-itemname={item.Name} data-itemdesc={item.JN_Aph_Inv_Inventory_Description__c} data-itemuom={item.JN_Aph_Inv_Unit_of_Measure__c}></lightning-icon> {item.Name} - {item.JN_Aph_Inv_Inventory_Description__c} - {item.JN_Aph_Inv_Unit_of_Measure__c}                              
                                                </span>
                                           </div>
                                        </li>
                                     </template>
                                  </ul>
                               </div>
                            </div>
                         </template>
                        <template if:true={noResults}>
                           <div class="slds-combobox_container">
                              <div id="listbox-id-11" class="slds-dropdown slds-dropdown_fluid" role="listbox">
                                 <ul class="slds-listbox slds-listbox_vertical" role="presentation">
                                    <li role="presentation" class="slds-listbox__item">
                                    <div class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small" role="option">
                                       <span role="menuitem" tabindex="-1" >
                                          No Records found                     
                                    </span> 
                                    </div>
                                    </li>
                                    </ul>
                                    </div>
                           </div>
                           
                        </template>
                      </div>
                   </div>
                </div>
             </div> 
</template>